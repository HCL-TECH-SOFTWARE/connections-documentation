
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us" whc:version="22.0">
    <head><link rel="shortcut icon" href="../../favicon.png"><!----></link><link rel="icon" href="../../favicon.png"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="description" content="Enabling SSO in an MT environment involves Keycloak providing identity authentication brokering between WebSphere OIDC (Connections application side server) and possibly multiple customer IdPs. This ..." /><meta charset="UTF-8" /><meta name="DC.rights.owner" content="(C) Copyright 2021" /><meta name="copyright" content="(C) Copyright 2021" /><meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" /><meta name="DC.relation" scheme="URI" content="../../v7/welcome/welcome_admin.html" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="enabling-single-sign-on-sso-using-keycloak-authentication" /><title>Enabling single sign-on (SSO) using Keycloak Authentication</title><!--  Generated with Oxygen version 23.1, build number 2021030117.  --><meta name="wh-path2root" content="../../" /><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /C:\Users\david.sayer\Documents\GitHub-test\connections_cloud_mt\mt\temp\webhelp-responsive\oxygen_dita_temp\v7\keycloak_authentication_sso?&gt;&lt;?workdir-uri file:/C:/Users/david.sayer/Documents/GitHub-test/connections_cloud_mt/mt/temp/webhelp-responsive/oxygen_dita_temp/v7/keycloak_authentication_sso/?&gt;&lt;?path2project ..\..\?&gt;&lt;?path2project-uri ../../?&gt;&lt;?path2rootmap-uri ../../?&gt;&lt;topic xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;1.2&#34; domains=&#34;(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)&#34; id=&#34;enabling-single-sign-on-sso-using-keycloak-authentication&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;topic:1;182:3&#34; specializations=&#34;&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;title:1;182:3&#34;&gt;Enabling single sign-on (SSO) using Keycloak Authentication&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;body:1;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:1;182:3&#34;&gt;Enabling SSO in an MT environment involves Keycloak providing identity authentication brokering between WebSphere OIDC (Connections application side server) and possibly multiple customer IdPs. This SSO is accomplished by setting up a trust relationship between the Connections server and Keycloak using the IBM WebSphere OpenID Connect Relying Party Trust Association Interceptor (OIDC Relying Party TAI). Keycloak is then used as an intermediary to broker authentication to the customer IdP.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:2;182:3&#34;&gt;Enabling this single sign-on OIDC authentication between Keycloak and Connections involves completing multiple steps:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:1;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:1;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:3;182:3&#34;&gt;Brokering authentication using hint (you broker each org to their respective Identity Provider)&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:2;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:4;182:3&#34;&gt;Configuring KeyCloak as OIDC Provider for Connections&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:3;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:5;182:3&#34;&gt;Updating WebSphere to support single sign-on (SSO) between Keycloak with Connections&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:4;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:6;182:3&#34;&gt;Configuring Connections&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:7;182:3&#34;&gt;For background on OIDC (OpenID Connect), you can see these topics in the IBM documentation for WebSphere Application Server:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:2;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:5;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:8;182:3&#34;&gt;OpenID Connect overview https://www.ibm.com/docs/en/was/8.5.5?topic=users-openid-connect-overview -&lt;xref class=&#34;- topic/xref &#34; href=&#34;https://www.ibm.com/docs/en/was/8.5.5?topic=users-configuring-openid-relying-party&#34; format=&#34;5&#34; scope=&#34;external&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;xref:1;182:3&#34;&gt;&lt;?ditaot usertext?&gt;Configuring an OpenID Relying Party&lt;/xref&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; mapkeyref=&#34;activities&#34; xtrc=&#34;topicref:17;39:88&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/mt_v7_md.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;../../v7/welcome/welcome_admin.dita&#34; mapclass=&#34;- map/topicref &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:2;17:65&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/mt_v7_md.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;HCL Connections MT v7.0 CH MSP Product Documentation&lt;/linktext&gt;&lt;?ditaot genshortdesc?&gt;&lt;desc class=&#34;- topic/desc &#34;&gt;Welcome to the HCL Connections MT CH MSP Product Documentation site. HCL Connections is social networking software designed for the workplace. Its features help you to establish dynamic networks that connect you to the people and information you need to achieve your business goals.&lt;/desc&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;1.2&#34; domains=&#34;(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)&#34; id=&#34;brokering-authentication-via-hint&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;topic:2;182:3&#34; specializations=&#34;&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;title:2;182:3&#34;&gt;Brokering Authentication via Hint&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;body:2;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:9;182:3&#34;&gt;The following image shows a possible MT configuration with three customer IdPs each using a separate protocol OIDC, SAML and a social id.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:10;182:3&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;keycloak_sso_overview.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:1;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:1;182:3&#34;&gt;keycloak_sso_overview.jpg&lt;/alt&gt;&lt;/image&gt; &lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:11;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:1;182:3&#34;&gt;Note:&lt;/b&gt; The dotted line from connections to LDAP is not required for authentication. It may be used for group support from application level. Although it should really be done using keycloak APIs, the existing code may be doing a direct LDAP call.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:12;182:3&#34;&gt;In MT, most of customers have their own IdP to authenticate users so Connections can SSO to customers own applications that use the same IdP.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:13;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:2;182:3&#34;&gt;Keycloak Identity Providers Example&lt;/b&gt; &lt;image class=&#34;- topic/image &#34; href=&#34;id_providers.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:2;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:2;182:3&#34;&gt;id_providers.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:14;182:3&#34;&gt;By default, a user would have to pick which login to use. However we can remove this page by redirect the user to their org's IdP.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:15;182:3&#34;&gt;This can be done by using &lt;xref class=&#34;- topic/xref &#34; href=&#34;https://www.keycloak.org/docs/latest/server_admin/#_client_suggested_idp&#34; format=&#34;html&#34; scope=&#34;external&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;xref:2;182:3&#34;&gt;&lt;?ditaot usertext?&gt;kc_idp_hint&lt;/xref&gt;.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:16;182:3&#34;&gt;The redirect URL contains a unique organization string which allows creating a rewrite rule to map between the organization and the organization IdP.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:17;182:3&#34;&gt;For example,&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeblock:1;182:3&#34;&gt;https://\ {KK}/realms/{RM}/protocol/openid-connect/auth?xxxxx&amp;amp;redirect_uri=https%3A%2F%2Fmtdemo1- orgc.cnx.cwp.pnp-hcl.com%3A443%2Foidcclient_apps%2Fkeycloak&amp;amp;yyyyy &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:18;182:3&#34;&gt;to&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeblock:2;182:3&#34;&gt;https://\{KK} /realms/{RM}/protocol/openid-connect/auth?xxxxx&amp;amp;redirect_uri=https%3A%2F%2Fmtdemo1-orgc.cnx.cwp.pnp- hcl.com%3A443%2Foidcclient_apps%2Fkeycloak&amp;amp;yyyyy&amp;amp;kc_idp_hint=mtdemo1-orgc &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:19;182:3&#34;&gt;Example implementation:&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeblock:3;182:3&#34;&gt;if ($arg_redirect_uri ~ ^(https.*connmt-orge.*)){ rewrite ^(/auth/.*)/Azure-OIDC/(\w+\.?.*$) $1/Azure-OIDC/$2?kc_idp_hint=google break; } if ($arg_redirect_uri ~ ^(https.*connmt-orgf.*)){ rewrite ^(/auth/.*)/Azure-OIDC/(\w+\.?.*$) $1/Azure-OIDC/$2?kc_idp_hint=connmt-orgf break; } &lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;1.2&#34; domains=&#34;(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)&#34; id=&#34;configuring-keycloak-as-an-oidc-provider-for-connections&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;topic:3;182:3&#34; specializations=&#34;&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;title:3;182:3&#34;&gt;Configuring KeyCloak as an OIDC provider for Connections&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;body:3;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:20;182:3&#34;&gt;Configuring Keycloak as the OIDC provider for Connections involves these steps&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:3;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:6;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:21;182:3&#34;&gt;Create a realm&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:7;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:22;182:3&#34;&gt;Within that realm create a client for the Connections web application (client)&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:4;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:8;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:23;182:3&#34;&gt;Configure the callback urls&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:9;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:24;182:3&#34;&gt;Configure hardcoded realmName claim via client scope mapper property&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:10;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:25;182:3&#34;&gt;Setup Keycloak connection to LDAP&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:11;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:26;182:3&#34;&gt;Create additional clients for Oauth applications mobile, desktop plugins, rte and ee&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:27;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:3;182:3&#34;&gt;Creating Connections Realm in Keycloak&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:28;182:3&#34;&gt;In the Keycloak admin portal Select realm &amp;gt; Add realm &lt;image class=&#34;- topic/image &#34; href=&#34;keycloak_realm.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:3;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:3;182:3&#34;&gt;keycloak_realm.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:29;182:3&#34;&gt;Once created set the realm token properties as appropriate. Realm &amp;gt; Realm Settings &amp;gt; Tokens &lt;image class=&#34;- topic/image &#34; href=&#34;keycloak_realm_settings.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:4;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:4;182:3&#34;&gt;keycloak_realm_settings.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:30;182:3&#34;&gt;To avoid token time-out issues set the properties Access Token Lifespan and Access Token Lifespan For Implicit Flow to 1 minute less than the WebSphere LTPA timeout. In the following example the WebSphere LTPA timeout is set to 720 minutes (12 hours)&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;keycloak_realm_token.jpg&#34; placement=&#34;break&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:5;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:5;182:3&#34;&gt;keycloak_realm_token.jpg&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:31;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:4;182:3&#34;&gt;Creating the Main Keycloak Client for Connections&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:32;182:3&#34;&gt;The realm contains the Keycloak OIDC clients which provide the authentication for Connections entities. The main OIDC client is the client for the Connections web application. The realm contains the Keycloak OIDC clients which provide the authentication for Connections entities. The main OIDC client is the client for the Connections web application.&lt;?linebreak?&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;keycloak_clients.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:6;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:6;182:3&#34;&gt;keycloak_clients.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:33;182:3&#34;&gt;As part of the client, you define the valid callback urls for each organization.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:34;182:3&#34;&gt;Example: Add the following Valid Redirect URIs to the client for two organizations orga and orgb&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:5;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:12;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:35;182:3&#34;&gt;https://&lt;connections class=&#34;- topic/connections &#34; host=&#34;&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;connections:1;182:3&#34;&gt;_orga/homepage&lt;/connections&gt;&lt;/p&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:13;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:36;182:3&#34;&gt;https://&lt;connections class=&#34;- topic/connections &#34; host=&#34;&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;connections:2;182:3&#34;&gt;_orga/oidcclient/keycloak&lt;/connections&gt;&lt;/p&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:14;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:37;182:3&#34;&gt;https://&lt;connections class=&#34;- topic/connections &#34; host=&#34;&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;connections:3;182:3&#34;&gt;_orgb/homepage&lt;/connections&gt;&lt;/p&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:15;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:38;182:3&#34;&gt;https://&lt;connections class=&#34;- topic/connections &#34; host=&#34;&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;connections:4;182:3&#34;&gt;_orgb/oidcclient/keycloak&lt;/connections&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:39;182:3&#34;&gt;where the value keycloak is the value specified in the provider_1.identifier property used later in the WebSphere TAI. It is found in the WebSphere Admin Console Security &amp;gt; Global security &amp;gt; Trust association &amp;gt; Interceptors &amp;gt; com.ibm.ws.security.oidc.client.RelyingParty&lt;/p&gt;&lt;/p&gt;&lt;/li&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:40;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:5;182:3&#34;&gt;Creating a Mapper for realmName&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:41;182:3&#34;&gt;Here you create a mapper to provide realmName as part of the ID and access tokens in the flow. You do this via Keycloak client scope which makes it available to all client flows in the same realm including web (defined above), mobile, desktop, conn-ee, conn-rte, and 3rd party clients. In the Keycloak admin portal go to &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:6;182:3&#34;&gt;&lt;realm class=&#34;- topic/realm &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;realm:1;182:3&#34;&gt; &amp;gt; Client Scopes &amp;gt; roles &amp;gt; Mappers &amp;gt; Create&lt;/realm&gt; and create a Mapper with&lt;/b&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:6;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:16;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:42;182:3&#34;&gt;Name = realmName&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:17;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:43;182:3&#34;&gt;Mapper Type = Hardcoded claim&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:18;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:44;182:3&#34;&gt;Token claim name = realmName&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:19;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:45;182:3&#34;&gt;Claim value = &amp;lt;your_realm_name&amp;gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:46;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:7;182:3&#34;&gt;Note:&lt;/b&gt; The claim value equals connmt in our example&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:47;182:3&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;realmname.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:7;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:7;182:3&#34;&gt;realmname.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:48;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:8;182:3&#34;&gt;Configuring KeyCloak to connect to an LDAP&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:49;182:3&#34;&gt;For each organization there needs to be an underlying LDAP for the organizationâ€™s users. Informing Keycloak about the users is simple. For each organization in the Keycloak admin portal go to &lt;realm class=&#34;- topic/realm &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;realm:2;182:3&#34;&gt; &amp;gt; User Federation &amp;gt; Add Provider and complete the form similar to the example below &lt;image class=&#34;- topic/image &#34; href=&#34;keycloak_ldap_7.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:8;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:8;182:3&#34;&gt;keycloak_ldap_7.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/realm&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:50;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:9;182:3&#34;&gt;Creating Additional Keycloak Clients&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:51;182:3&#34;&gt;You create additional clients for some special case Connections applications, including mobile, desktop plugins, the rich text editor (rte) and the extended experience widget (ee). Similar to creating the main Connections client, in the Keycloak admin portal go to &lt;realm class=&#34;- topic/realm &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;realm:3;182:3&#34;&gt; &amp;gt; Clients &amp;gt; Create and repeat for each client.&lt;/realm&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:52;182:3&#34;&gt;See information and screenshots below for guidance.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:53;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:10;182:3&#34;&gt;Mobile Client&lt;/b&gt; The following creates the Keycloak client for mobile there is additional Connections configuration required to complete enabling mobile access (see later section).&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:54;182:3&#34;&gt;Set the following fields as indicated:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:7;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:20;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:55;182:3&#34;&gt;Client ID: connections_social_mobile&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:21;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:56;182:3&#34;&gt;Enabled: On&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:22;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:57;182:3&#34;&gt;Client Protocol: openid-connect&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:23;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:58;182:3&#34;&gt;Access Type: public&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:24;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:59;182:3&#34;&gt;Standard Flow Enabled: On&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:25;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:60;182:3&#34;&gt;Implicit Flow Enabled: Off&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:26;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:61;182:3&#34;&gt;Direct Access Grants Enabled: Off&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:27;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:62;182:3&#34;&gt;Valid Redirect URIs: com.ibm.ibmscp://com.ibm.mobile.connections/token&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:63;182:3&#34;&gt;Under Advanced Settings, set:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:8;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:28;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:64;182:3&#34;&gt;Access Token Lifespan: 60&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:29;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:65;182:3&#34;&gt;Proof Key for Code Exchange Code Challenge Method: S256&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:66;182:3&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;cnx_mobile_4.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:9;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:9;182:3&#34;&gt;cnx_mobile_4.jpg&lt;/alt&gt;&lt;/image&gt; &lt;image class=&#34;- topic/image &#34; href=&#34;adv_settings.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:10;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:10;182:3&#34;&gt;adv_settings.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:67;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:11;182:3&#34;&gt;Desktop Plugins&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:68;182:3&#34;&gt;Starting in plugins release 21.07, the Mac and WIndows Desktop plugins use the same Keycloak client as Mobile (connections_social_mobile). Add the following redirect URI to the Valid Redirect URIs list of the Mobile client Valid Redirect URIs: &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:1;182:3&#34;&gt;com.ibm.ibmscp://com.ibm.desktop.connections&lt;/codeph&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:69;182:3&#34;&gt;If you are supporting older desktop plugins (pre-21.07), you will need add another Keycloak client with ClientID conn-dsk-plugin. Other than ClientID, use the same settings as the mobile Keycloak client. Add the following redirect URI to the Valid Redirect URIs list of the conn-dsk-plugin client: Valid Redirect URIs: 'com.ibm.ibmscp://com.ibm.desktop.connections'&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:70;182:3&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;i:1;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:12;182:3&#34;&gt;Outlook Add-in&lt;/b&gt;&lt;/i&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:71;182:3&#34;&gt;If you are enabling the Connections Outlook Add-in for your users, you will need to make updates to Keycloak to enable login from the add-in.&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:9;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:30;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:72;182:3&#34;&gt;Update the Mobile client (connections_social_mobile) with redirect URIs&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:73;182:3&#34;&gt;For each org supported, add the Outlook Add-in redirect URL to the â€˜Valid Redirect URIsâ€™ field. The format should be &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:2;182:3&#34;&gt;https://&amp;lt;org addin URI&amp;gt;/auth/callback&lt;/codeph&gt;. Examples:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:10;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:31;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:74;182:3&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:3;182:3&#34;&gt;https://orga.my.server.com/outlook-addin/auth/callback&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:32;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:75;182:3&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:4;182:3&#34;&gt;https://orgb.my.server.com/outlook-addin/auth/callback&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:33;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:76;182:3&#34;&gt;Update the â€˜Web Originsâ€™ field to allow CORS origins from the redirect URIs. Either explicitly specify each redirect URI or specify â€˜+â€™ to allow all the redirect URIs from the â€˜Valid Redirect URIsâ€™ field.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:34;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:77;182:3&#34;&gt;Update Realm settings to make sure X-Frame-Options includes â€œframe-ancestors 'selfâ€™â€. This allows the Outlook Add-in to be loaded into the iFrame.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:78;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:13;182:3&#34;&gt;RTE&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:79;182:3&#34;&gt;Create a client named conn-rte and add Valid Redirect URI for each organization. For example&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeblock:4;182:3&#34;&gt; https:// &amp;lt;server_orga&amp;gt;/connections/rte/connect hhttps:// &amp;lt;server_orgb&amp;gt;/connections/rte/connect&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;rte.jpg&#34; placement=&#34;break&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:11;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:11;182:3&#34;&gt;rte.jpg&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:80;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:14;182:3&#34;&gt;EE&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:81;182:3&#34;&gt;Create a client named conn-ee-kc and add Valid Redirect URI for each organization. For example&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeblock:5;182:3&#34;&gt; https:// &amp;lt;server_orga&amp;gt;/connections/opensocial/gadgets/oauth2callback https:// &amp;lt;server_orgb&amp;gt;/connections/opensocial/gadgets/oauth2callback&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;ee.jpg&#34; placement=&#34;break&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:12;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:12;182:3&#34;&gt;ee.jpg&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:82;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:15;182:3&#34;&gt;SSO between Connections, SameTime and Domino can be done via Keycloak clients&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:83;182:3&#34;&gt;As before create a client for all the applications in the same realm. &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:16;182:3&#34;&gt;SameTime Ckient&lt;/b&gt; Use IdP initiated Post binding with signed assertion:&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:84;182:3&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;keycloak_5.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:13;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:13;182:3&#34;&gt;keycloak_5.jpg&lt;/alt&gt;&lt;/image&gt; &lt;image class=&#34;- topic/image &#34; href=&#34;keycloak_6.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:14;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:14;182:3&#34;&gt;keycloak_6.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/p&gt;&lt;/p&gt;&lt;/p&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;1.2&#34; domains=&#34;(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)&#34; id=&#34;configuring-websphere-as-oidc-relying-party&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;topic:4;182:3&#34; specializations=&#34;&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;title:4;182:3&#34;&gt;Configuring WebSphere as OIDC Relying Party&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;body:4;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:85;182:3&#34;&gt;Keycloak as an OIDC IDP provides authentication for the Connections applications installed in WebSphere. Configuring WebSphere as the OIDC Relying Party involves a few basic steps.&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:11;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:35;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:86;182:3&#34;&gt;Install WebSphereOIDCRP.ear (Note: In multi-cluster environment it is installed to each cluster)&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:36;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:87;182:3&#34;&gt;Configure the WebSphere OIDC Trust Association Interceptor (TAI) (Note: The special steps in multi-cluster environment)&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:37;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:88;182:3&#34;&gt;Configure dynacache for TAI JNDI&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:89;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:17;182:3&#34;&gt;Install WebSphereOIDCRP.ear&lt;/b&gt; In a single cluster environment follow the instruction in step #13 Install the OpenID Connect applicationâ€œ of the WebSphere Documentation. Refer to &lt;xref class=&#34;- topic/xref &#34; href=&#34;https://www.ibm.com/docs/en/was-nd/8.5.5?topic=users-configuring-openid-connect-relying-party&#34; format=&#34;5&#34; scope=&#34;external&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;xref:3;182:3&#34;&gt;&lt;?ditaot usertext?&gt;Configuring an OpenID Connect Relying Party&lt;/xref&gt; See below if installing in multi-cluster environment, you will install the OIDC application on each cluster.&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeblock:6;182:3&#34;&gt; Update Custom Properties: WebSphere Admin Console go to Security &amp;gt; Global security &amp;gt; Custom properties and remove com.ibm.websphere.security.InvokeTAIbeforeSSO if it is set Disable Oauth TAI: Since we are using Keycloak clients disable the com.ibm.ws.security.oauth20.tai.OAuthTAI filter. Go to Security &amp;gt; Global security &amp;gt; Trust association &amp;gt; Interceptors &amp;gt; com.ibm.ws.security.oauth20.tai.OAuthTAI and set the provider_1.filter name to some dummy value so it won't intercept any requests&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:90;182:3&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;websphereoidcrp_ear.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:15;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:15;182:3&#34;&gt;websphereoidcrp_ear.jpg&lt;/alt&gt;&lt;/image&gt; &lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:91;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:18;182:3&#34;&gt;Configure the WebSphere OIDC Trust Association Interceptor (TAI) â€“ Single Cluster&lt;/b&gt; In the WebSphere Admin Console go to &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:5;182:3&#34;&gt;Security &amp;gt; Global security &amp;gt; Trust association &amp;gt; Interceptors &amp;gt; com.ibm.ws.security.oidc.client.RelyingParty&lt;/codeph&gt; and configure the custom TAI properties as follows&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:92;182:3&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;interceptor_tai.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:16;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:16;182:3&#34;&gt;interceptor_tai.jpg&lt;/alt&gt;&lt;/image&gt; &lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;1.2&#34; domains=&#34;(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)&#34; id=&#34;tai-custom-property&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;topic:5;182:3&#34; specializations=&#34;&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;title:5;182:3&#34;&gt;TAI custom property&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;body:5;182:3&#34;&gt;&lt;ol class=&#34;- topic/ol &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ol:1;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:38;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:93;182:3&#34;&gt;Set custom &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:6;182:3&#34;&gt;provider_1.excludedpathFilter&lt;/codeph&gt;:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:12;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:39;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:94;182:3&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:7;182:3&#34;&gt;*/survey/.*,/surveys/.*,/ibm/console,/ibm/console/.*,/profiles/dsx/.*,/communities/dsx/.*,/dm,/dm/atom/seedlist,/dm/atom/communities/feed,/activities/service/atom2/forms/communityEvent,/communities/recomm/handleEvent,/communities/calendar/handleEvent,/profiles/seedlist/myserver&lt;/codeph&gt;*`&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:40;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:95;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:19;182:3&#34;&gt;Note:&lt;/b&gt; The services path may not be the same per deployment.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:41;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:96;182:3&#34;&gt;To support JWT as access token for oauth set &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:8;182:3&#34;&gt;provider_1.verifyIssuerInIat=true&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:42;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:97;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:20;182:3&#34;&gt;connmt&lt;/b&gt; is the client id that was configured for the KeyCloak main Connections web client from before.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:43;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:98;182:3&#34;&gt;connections_social_mobile is the client id for Connections Mobile&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:44;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:99;182:3&#34;&gt;To support &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:9;182:3&#34;&gt;Mobile/oauth2&lt;/codeph&gt; client use of the LTPA session cookie set &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:10;182:3&#34;&gt;provider_1.setLtpaCookie=true&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:100;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:21;182:3&#34;&gt;Configure the WebSphere OIDC Trust Association Interceptor (TAI) â€“ Multi-Cluster&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:101;182:3&#34;&gt;A Connections medium or large deployment consists of multiple clusters (JVMs), each containing a number of applications. There is a limitation in the WebSphere OIDC RP, where the RP stores the state in local JVM. This means the Keycloak callback needs to return to the same JVM where application login started. We have the following request into &lt;xref class=&#34;- topic/xref &#34; href=&#34;https://www.ibm.com/developerworks/rfe/execute?use_case=viewRfe&amp;amp;CR_ID=104320&#34; format=&#34;html&#34; scope=&#34;external&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;xref:4;182:3&#34;&gt;&lt;?ditaot usertext?&gt;IBM to fix this issue&lt;/xref&gt;. Please help by voting for it.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:102;182:3&#34;&gt;To resolve this issue the workaround is to install the &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:11;182:3&#34;&gt;WebSphereOIDCRP.ear&lt;/codeph&gt; in each cluster and configure WebSphere TAI properties for each mapping to the corresponding servlet context root. Our examples below are based on a Connections medium deployment 4 cluster configuration.&lt;/p&gt;&lt;ol class=&#34;- topic/ol &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ol:2;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:45;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:103;182:3&#34;&gt;Example: Deploying WebSphereOIDCRP.ear to each JVM/cluster with unique context root.&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;was_oidc_multi_cluster_9.jpg&#34; placement=&#34;break&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:17;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:17;182:3&#34;&gt;was_oidc_multi_cluster_9.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:46;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:104;182:3&#34;&gt;Configure WebSphere TAI properties multi-cluster Configure &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:12;182:3&#34;&gt;.ibm.ws.security.oidc.client.RelyingParty&lt;/codeph&gt; TAI with a provider for each cluster and set the custom properties&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:13;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:47;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:105;182:3&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:13;182:3&#34;&gt;interceptedPathFilter&lt;/codeph&gt; to the corresponding cluster value&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:48;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:106;182:3&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:14;182:3&#34;&gt;callbackServletContextPath&lt;/codeph&gt; to a unique value (to be updated in Keycloak main CNX web client)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:107;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:22;182:3&#34;&gt;Note:&lt;/b&gt; All properties values are the same for each provider except the &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:15;182:3&#34;&gt;interceptedPathFilter&lt;/codeph&gt; and &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:16;182:3&#34;&gt;callbackServletContextPath&lt;/codeph&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:108;182:3&#34;&gt;Example: For a 4 cluster medium Connections deployment setting interceptPathFilter: (Note: in your environment the app may be deployed on different clusters, therefore please adjust accordingly)&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:14;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:49;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:109;182:3&#34;&gt;provider_1.interceptedPathFilter: &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:17;182:3&#34;&gt;/activities/.,/blogs/.,/dogear/.,/files/.,/forums/.,/metrics/.,/metricssc/,/mobile/.,/connections/filesync/.,/connections/filediff/.,/mobileAdmin/.,/storageproxy/.,/wikis/.*&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:50;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:110;182:3&#34;&gt;provider_2.interceptedPathFilter: &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:18;182:3&#34;&gt;/connections/bookmarklet/.,/connections/oauth/.,/connections/resources/.,/connections/config/.,/communities/.,/connections/proxy/.,/help/.,/xcc/.,/selfservice/.,/news/.,/profiles/.,/search/.,/socialsidebar/.,/touchpoint/.,/connections/thumbnail/.,/connections/opengraph/.,/oauth2/.,/connections/opensocial/.&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:51;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:111;182:3&#34;&gt;provider_3..interceptedPathFilter: &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:19;182:3&#34;&gt;/homepage/.,/moderation/.,/connections/rte/.,/connections/webeditors/.&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:52;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:112;182:3&#34;&gt;provider_4.interceptedPathFilter: &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:20;182:3&#34;&gt;/push/.*&lt;/codeph&gt; The screenshot below shows the TAI custom properties (provider_1) for the oidcclient_apps cluster , repeat creating the same properties for provider_2, provider_3, provider_4 with appropriate values for interceptedPathFilter and callbackServletContextPath.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;was_oidc_multi_cluster_10.jpg&#34; placement=&#34;break&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:18;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:18;182:3&#34;&gt;was_oidc_multi_cluster_10.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:53;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:113;182:3&#34;&gt;Enable custom dynacache by following these steps:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:15;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:54;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:114;182:3&#34;&gt;In oidc RP TAI properties add the custom property jndiCacheName= services/cache/OpenidRpCache : &lt;image class=&#34;- topic/image &#34; href=&#34;was_oidc_multi_cluster_11.jpg&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:19;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:19;182:3&#34;&gt;was_oidc_multi_cluster_11.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:55;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:115;182:3&#34;&gt;Create a new object cache instance with the &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:23;182:3&#34;&gt;JNDI name matching&lt;/b&gt; the one used in the TAI property above and set -- replication Domain: ConnectionsReplicationDomain -- replication Type: both push and pull&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;was_oidc_multi_cluster_12.jpg&#34; placement=&#34;break&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:20;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:20;182:3&#34;&gt;was_oidc_multi_cluster_12.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:56;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:116;182:3&#34;&gt;In each cluster (Apps, Infra, Util, Push) make sure that cache replication is enabled and uses the ConnectionsReplicationDomain. To check go to the Admin Console Servers &amp;gt; server types &amp;gt; WebSphere Application Servers &amp;gt; &amp;lt;server_name&amp;gt; &amp;gt; Container Services &amp;gt; Dynamic cache service&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;was_oidc_multi_cluster_13.jpg&#34; placement=&#34;break&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;image:21;182:3&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;alt:21;182:3&#34;&gt;was_oidc_multi_cluster_13.jpg&lt;/alt&gt;&lt;/image&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:57;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:117;182:3&#34;&gt;In the multi-cluster case since we defined new servlet context roots in step #2, the Keycloak web/main client Valid Redirect URIs need to be updated.&lt;?linebreak?&gt;Example: Based on our earlier Keycloak client definition update the valid callbacks as follows Go to Keycloak Admin Portal &amp;gt; realm &amp;gt; client &amp;gt; Valid Redirect URIs &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:21;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orga/homepage&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:22;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orga/oidcclient_apps/keycloak&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:23;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orga/oidcclient_util/keycloak&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:24;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orga/oidcclient_infra/keycloak&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:25;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orga/oidcclient_push/keycloak&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:26;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orgb/homepage&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:27;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orgb/oidcclient_apps/keycloak&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:28;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orgb/oidcclient_util/keycloak&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:29;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orgb/oidcclient_infra/keycloak&lt;/codeph&gt; &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:30;182:3&#34;&gt;https://&amp;lt;connections host&amp;gt;_orgb/oidcclient_push/keycloak&lt;/codeph&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:118;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:24;182:3&#34;&gt;Note:&lt;/b&gt; oidcclient_apps, oidcclient_util, oidcclient_infra, oidcclient_push are the values of the provider_1-4.callbackServletContex custom properties in our example.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;1.2&#34; domains=&#34;(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)&#34; id=&#34;connections-configuration&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;topic:6;182:3&#34; specializations=&#34;&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;title:6;182:3&#34;&gt;Connections Configuration&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;body:6;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:119;182:3&#34;&gt;Perform the following updates to Connections configuration files to complete enabling the Keycloak clients as the Connections OIDC provider. &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:25;182:3&#34;&gt;Updating the Mobile Configuration Properties&lt;/b&gt; Update the mobile-config.xml with the property values below by following the instructions in the &lt;xref class=&#34;- topic/xref &#34; href=&#34;https://help.hcltechsw.com/connectionsmobile/admin/overview/t_mobile_change_config_properties.html&#34; format=&#34;html&#34; scope=&#34;external&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;xref:5;182:3&#34;&gt;&lt;?ditaot usertext?&gt;Changing Mobile configuration property values&lt;/xref&gt; topic.&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;ul:16;182:3&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:58;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:120;182:3&#34;&gt;Set the AuthType to OAuth: &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:31;182:3&#34;&gt;&amp;lt;AuthType&amp;gt;OAuth&amp;lt;/AuthType&amp;gt;&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;li:59;182:3&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:121;182:3&#34;&gt;Set these values to the authorization and token endpoint URLs for your KeyCloak realm.&lt;?linebreak?&gt;-- &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:32;182:3&#34;&gt;&amp;lt;OAuthAuthorizationURL&amp;gt;https://&amp;lt;server&amp;gt;/auth/realms/&amp;lt;keycloak_realm&amp;gt;/protocol/openid-connect/auth&amp;lt;/OAuthAuthorizationURL&amp;gt;&lt;/codeph&gt; -- &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:33;182:3&#34;&gt;&amp;lt;OAuthTokenURL&amp;gt;https://&amp;lt;server&amp;gt;/auth/realms/&amp;lt;keycloak_realm&amp;gt;/protocol/openid-connect/token&amp;lt;/OAuthTokenURL&amp;gt;&lt;/codeph&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:122;182:3&#34;&gt;Verify the change is correct by selecting the URL: &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeph:34;182:3&#34;&gt;https://&amp;lt;server&amp;gt;/mobile/homepage/SecurityConfiguration?debug=true&lt;/codeph&gt; and validate that the values are reflected in the JSON that is returned.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;p:123;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:26;182:3&#34;&gt;Updating the LotusConnections-config.xml oidc_op service&lt;/b&gt; Update the LotusConnections-config.xml for the &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;i:2;182:3&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:27;182:3&#34;&gt;serviceName=&#34;oidc_op&#34;&lt;/b&gt;&lt;/i&gt; with the property values below by following the instructions found in the &lt;xref class=&#34;- topic/xref &#34; href=&#34;https://help.hcltechsw.com/connections/v7/admin/admin/t_admin_common_checkout_config_file.html&#34; format=&#34;html&#34; scope=&#34;external&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;xref:6;182:3&#34;&gt;&lt;?ditaot usertext?&gt;Editing Configuration Files&lt;/xref&gt; topic. &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;b:28;182:3&#34;&gt;Note:&lt;/b&gt; You will need to edit the LotusConnections-config.xml file directly.&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/C:/Users/david.sayer/AppData/Local/Temp/OxygenXMLTemp/ditaTemporaryOutputDir-bjz_4fq_nrb/t1/t2/t3/t4/t5/v7/keycloak_authentication_sso/keycloak_auth_sso.md&#34; xtrc=&#34;codeblock:7;182:3&#34;&gt;&amp;lt;sloc:serviceReference bootstrapHost=&#34;admin_replace&#34; bootstrapPort=&#34;admin_replace&#34; clusterName=&#34;&#34; enabled=&#34;true&#34; serviceName=&#34;oidc_op&#34; ssl_enabled=&#34;true&#34;&amp;gt; &amp;lt;sloc:href&amp;gt; &amp;lt;sloc:hrefPathPrefix&amp;gt;/auth/realms/&amp;lt;keycloak_realm&amp;gt;/.well-known/openid-configuration&amp;lt;/sloc:hrefPathPrefix&amp;gt; &amp;lt;sloc:static href=&#34;http://&amp;lt;keycloak_server&amp;gt;&#34; ssl_href=&#34;https://&amp;lt;keycloak_server&amp;gt;&#34;/&amp;gt; &amp;lt;sloc:interService href=&#34;https://&amp;lt;keycloak_server&amp;gt;&#34;/&amp;gt; &amp;lt;/sloc:href&amp;gt; &amp;lt;/sloc:serviceReference&amp;gt;&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/p&gt;&lt;/li&gt;&lt;/li&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;" /><meta name="wh-source-relpath" content="v7/keycloak_authentication_sso/keycloak_auth_sso.md" /><meta name="wh-out-relpath" content="v7/keycloak_authentication_sso/keycloak_auth_sso.html" />
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css" />
    
    <link rel="stylesheet" href="../../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css" />
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/app/topic-page.css?buildId=2021030117" />
    
    
    <script type="text/javascript" src="../../oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"><!----></script>
    
    <script data-main="../../oxygen-webhelp/app/topic-page.js" src="../../oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/template/oxygen.css?buildId=2021030117" />
    <!-- Global site tag (gtag.js) - Google Analytics start-->
   <!-- Global site tag (gtag.js) - Google Analytics -->
<script src="https://www.googletagmanager.com/gtag/js?id=UA-169645537-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169645537-2');
</script>

    <!-- Global site tag (gtag.js) - Google Analytics end-->

    <script type="module" src="../../oxygen-webhelp/template/resources/js/custom-hcl.js"></script>
    <script type="module" src="../../oxygen-webhelp/template/resources/js/constants.js"></script>
    <script type="module" src="../../oxygen-webhelp/template/resources/js/lang.js"></script>
    <!-- <link rel="stylesheet" type="text/css" href="${oxygen-webhelp-template-dir}/resources/css/custom-hcl.css" /> -->

    <!-- OneTrust Cookies Consent Notice start -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/99b8d579-c52a-43c9-ab7b-a35e60de7103/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="99b8d579-c52a-43c9-ab7b-a35e60de7103"></script>
    <script type="text/javascript">
        function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end -->

    <!-- twitter widget -->
    <script async="true" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</head>

    <body id="enabling-single-sign-on-sso-using-keycloak-authentication" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        <!-- 
Release Version: v.Q32021  
--><nav class="navbar navbar-expand-lg navbar-dark">
    <a class="navbar-brand" href="https://www.hcltechsw.com/wps/portal/hclsw-home" style="vertical-align: unset;">
        <img width="150" height="50" src="https://help.hcltechsw.com/assets/images/HCL_Software_Logo_White.svg" alt="HCL Logo" target="_blank" />
    </a>
    <a href="https://help.hcltechsw.com/">
        <span id="brandName" class="title" style="vertical-align: middle; font-size: 16px; color:#ffffff;">Product Documentation</span>
    </a>

    <div id="learningAcademyLink" style="margin-left: 20px;"> 
        <a id="learningAcademy" class="nav-link" style="color:#ffffff;padding-right: 20px;" href="https://academy.hcltechsw.com">Learning Academy</a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" style="color:#ffffff;" href="https://support.hcltechsw.com/csm?id=csm_index">Customer Support</a>
            </li>
        </ul>
    </div>
</nav>
        
        
        <header class="navbar navbar-default wh_header" whc:version="23.1">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    
                    <div class=" wh_publication_title "><a href="../../index.html">HCL Connections Product Documentation  </a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                <button type="button" data-target="#wh_top_menu_and_indexterms_link" id="wh_menu_mobile_button" data-toggle="collapse" class="navbar-toggler collapsed wh_toggle_button" aria-expanded="false" aria-label="Toggle menu" aria-controls="wh_top_menu_and_indexterms_link">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                <nav class=" wh_top_menu " aria-label="Menu Container"><ul xmlns:xhtml="http://www.w3.org/1999/xhtml" role="menubar" aria-label="Menu"><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="kc_welcome-d612e29-mi" data-tocid="kc_welcome-d612e29" data-state="not-ready" class=" topicref " data-id="kc_welcome"><span class="title"><a href="../../v7/welcome/welcome_admin.html">HCL Connections MT v7.0 CH MSP Product Documentation</a></span></span></li><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="kc_welcome-d612e296-mi" data-tocid="kc_welcome-d612e296" data-state="not-ready" class=" topicref " data-id="kc_welcome"><span class="title"><a href="../../v65/welcome_65/welcome_admin.html">HCL Connections MT v6.5 CH MSP Product Documentation</a></span></span></li></ul></nav>
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <!-- Search form -->
        <div xmlns:oxyf="http://www.oxygenxml.com/functions" xmlns="" class="custom-search-component"><div xmlns="http://www.w3.org/1999/xhtml" class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div></form>
            
            
            
        </div><!-- 
Release Version: v.Q32021  
--><div xmlns="http://www.w3.org/1999/xhtml" class="after-search">
    <div class="version-container">
        <select id="versions" class="custom-select custom-select-md lang-selector" data-toggle="tooltip" title="Select a version">
        </select>
    </div>
    <div class="language-container">
      <!--  <label class="lang-label" for="languages">Language:</label> -->
        <select id="languages" class="custom-select custom-select-md lang-selector" data-toggle="tooltip" title="Select a language">
        </select>  
    </div>
</div></div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol xmlns:html="http://www.w3.org/1999/xhtml" class="d-print-none"><li><span class="home"><a href="../../index.html"><span>Home</span></a></span></li><li><span class="topicref" data-id="kc_welcome"><span class="title"><a href="../../v7/welcome/welcome_admin.html">HCL Connections MT v7.0 CH MSP Product Documentation</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">Welcome to the HCL Connections MT CH MSP Product     Documentation site. HCL Connections is social networking software designed for the workplace.     Its features help you to establish dynamic networks that connect you to the people and     information you need to achieve your business goals.</p></span></span></span></li><li class="active"><span class="topicref" data-id="enabling-single-sign-on-sso-using-keycloak-authentication"><span class="title"><a href="../../v7/keycloak_authentication_sso/keycloak_auth_sso.html">Enabling single sign-on (SSO) using Keycloak Authentication</a></span></span></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        <div class=" wh_navigation_links "><span id="topic_navigation_links" class="navheader">
  </span></div>
                        
                        <!-- External resource link -->
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <!-- Expand/Collapse publishing TOC 
                             The menu button for mobile devices is copied in the output only when the publication TOC is available
                        -->
                        <button type="button" data-target="#wh_publication_toc" id="wh_toc_button" data-toggle="collapse" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        
                        <nav id="wh_publication_toc" class="collapse col-lg-3 col-md-3 col-sm-12 d-md-block d-print-none" aria-label="Table of Contents Container">
                            <div class=" wh_publication_toc " data-tooltip-position="hidden"><ul role="tree" aria-label="Table of Contents"><span class="expand-button-action-labels"><span id="button-expand-action" aria-label="Expand"></span><span id="button-collapse-action" aria-label="Collapse"></span><span id="button-pending-action" aria-label="Pending"></span></span><li role="treeitem" aria-expanded="true"><span data-tocid="kc_welcome-d612e29" class="topicref" data-id="kc_welcome" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action kc_welcome-d612e29-link" class="wh-expand-btn"></span><span class="title"><a href="../../v7/welcome/welcome_admin.html" id="kc_welcome-d612e29-link">HCL Connections MT v7.0 CH MSP Product Documentation</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">Welcome to the HCL Connections MT CH MSP Product     Documentation site. HCL Connections is social networking software designed for the workplace.     Its features help you to establish dynamic networks that connect you to the people and     information you need to achieve your business goals.</p></span></span></span><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><span data-tocid="tocId-d612e40" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d612e40-link" class="wh-expand-btn"></span><span class="title"><a href="../../v7/overview/welcome.html" id="tocId-d612e40-link">Welcome</a></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="updating-hcl-connections-70-with-the-latest-interim-fix-d612e80" class="topicref" data-id="updating-hcl-connections-70-with-the-latest-interim-fix" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action updating-hcl-connections-70-with-the-latest-interim-fix-d612e80-link" class="wh-expand-btn"></span><span class="title"><a href="../../v7/downloading/HCL%20MT%20CH-MSP%20Downloading%20HCL%20Connections%20Multi-Tenant%20packages%20and%20Monthly%20releases.html" id="updating-hcl-connections-70-with-the-latest-interim-fix-d612e80-link">Updating HCL Connections 7.0 with the latest interim fix</a></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="upgrading-mt-via-side-by-side-migration-d612e96" class="topicref" data-id="upgrading-mt-via-side-by-side-migration" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action upgrading-mt-via-side-by-side-migration-d612e96-link" class="wh-expand-btn"></span><span class="title"><a href="../../v7/migrating/mt_side_by_side_upgrade.html" id="upgrading-mt-via-side-by-side-migration-d612e96-link">Upgrading MT via Side by Side Migration</a></span></span></li><li role="treeitem"><span data-tocid="updating-configuration-files-via-hcl-autodeploy-d612e136" class="topicref" data-id="updating-configuration-files-via-hcl-autodeploy" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../../v7/updating_config_files_via_autodeploy/updating_config_files_via_autodeploy.html" id="updating-configuration-files-via-hcl-autodeploy-d612e136-link">Updating configuration files via HCL AutoDeploy</a></span></span></li><li role="treeitem"><span data-tocid="providing-ldap-group-support-for-the-org-admin-role-in-mt-d612e144" class="topicref" data-id="providing-ldap-group-support-for-the-org-admin-role-in-mt" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../../v7/ldap_group/providing_ldap_group_support.html" id="providing-ldap-group-support-for-the-org-admin-role-in-mt-d612e144-link">Providing LDAP Group Support for the org-admin role in MT</a></span></span></li><li role="treeitem" class="active"><span data-tocid="enabling-single-sign-on-sso-using-keycloak-authentication-d612e152" class="topicref" data-id="enabling-single-sign-on-sso-using-keycloak-authentication" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../../v7/keycloak_authentication_sso/keycloak_auth_sso.html" id="enabling-single-sign-on-sso-using-keycloak-authentication-d612e152-link">Enabling single sign-on (SSO) using Keycloak Authentication</a></span></span></li><li role="treeitem"><span data-tocid="provisioning-apis-for-v70-d612e160" class="topicref" data-id="provisioning-apis-for-v70" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../../v7/provisioing_apis_7/provisioning_apis_7.html" id="provisioning-apis-for-v70-d612e160-link">Provisioning APIs for v7.0</a></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="managing-external-user-access-d612e168" class="topicref" data-id="managing-external-user-access" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action managing-external-user-access-d612e168-link" class="wh-expand-btn"></span><span class="title"><a href="../../v7/managing_external_users/man_ext_users_overview.html" id="managing-external-user-access-d612e168-link">Managing external user access</a></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="configuring-mt-v70-features-d612e192" class="topicref" data-id="configuring-mt-v70-features" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action configuring-mt-v70-features-d612e192-link" class="wh-expand-btn"></span><span class="title"><a href="../../v7/configuringv7features/config_v7_features.html" id="configuring-mt-v70-features-d612e192-link">Configuring MT v7.0 Features</a></span></span></li></ul></li></ul></div>
                        </nav>
                        
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1">Enabling single sign-on (SSO) using Keycloak Authentication</h1><div class="- topic/body body"><p class="- topic/p p">Enabling SSO in an MT environment involves Keycloak providing identity authentication brokering between  WebSphere OIDC (Connections application side server) and possibly multiple customer IdPs. This SSO is accomplished by setting up a trust relationship between the Connections server and Keycloak using the IBM WebSphere OpenID Connect Relying Party Trust Association Interceptor (OIDC Relying Party TAI). Keycloak is then used as an intermediary to broker authentication to the customer IdP.</p><p class="- topic/p p">Enabling this single sign-on OIDC authentication between Keycloak and  Connections involves completing multiple steps:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Brokering authentication using hint (you broker each org to their respective Identity Provider)</p></li><li class="- topic/li li"><p class="- topic/p p">Configuring KeyCloak as OIDC Provider for Connections</p></li><li class="- topic/li li"><p class="- topic/p p">Updating WebSphere to support single sign-on (SSO) between Keycloak with Connections</p></li><li class="- topic/li li"><p class="- topic/p p">Configuring Connections</p></li></ul><p class="- topic/p p">For background on OIDC (OpenID Connect), you can see these topics in the IBM documentation for WebSphere Application Server:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">OpenID Connect overview  https://www.ibm.com/docs/en/was/8.5.5?topic=users-openid-connect-overview
-<a class="- topic/xref xref" href="https://www.ibm.com/docs/en/was/8.5.5?topic=users-configuring-openid-relying-party" target="_blank" rel="external noopener">Configuring an OpenID Relying Party</a></p></li></ul></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="brokering-authentication-via-hint"><h2 class="- topic/title title topictitle2" id="ariaid-title2">Brokering Authentication via Hint</h2><div class="- topic/body body"><p class="- topic/p p">The following image shows a possible MT configuration with three customer IdPs each using a separate protocol OIDC, SAML and a social id.</p><p class="- topic/p p"><img class="- topic/image image" src="keycloak_sso_overview.jpg" alt="keycloak_sso_overview.jpg" /><br />
</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Note:</strong> The dotted line from connections to LDAP is not required for authentication. It may be used for group support from application level. Although it should really be done using keycloak APIs, the existing code may be doing a direct LDAP call.</p><p class="- topic/p p">In MT, most of customers have their own IdP to authenticate users so Connections can SSO to customers own applications that use the same IdP.</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Keycloak Identity Providers Example</strong>
<img class="- topic/image image" src="id_providers.jpg" alt="id_providers.jpg" /><br /></p><p class="- topic/p p">By default, a user would have to pick which login to use. However we can remove this page by redirect the user to their org's IdP.</p><p class="- topic/p p">This can be done by using <a class="- topic/xref xref" href="https://www.keycloak.org/docs/latest/server_admin/#_client_suggested_idp" target="_blank" rel="external noopener">kc_idp_hint</a>.</p><p class="- topic/p p">The redirect URL contains a unique organization string which allows creating a rewrite rule to map between the organization and the organization IdP.</p><p class="- topic/p p">For example,</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>https://\

{KK}/realms/{RM}/protocol/openid-connect/auth?xxxxx&amp;redirect_uri=https%3A%2F%2Fmtdemo1- orgc.cnx.cwp.pnp-hcl.com%3A443%2Foidcclient_apps%2Fkeycloak&amp;yyyyy
</code></pre><p class="- topic/p p">to</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>https://\{KK}

/realms/{RM}/protocol/openid-connect/auth?xxxxx&amp;redirect_uri=https%3A%2F%2Fmtdemo1-orgc.cnx.cwp.pnp-
hcl.com%3A443%2Foidcclient_apps%2Fkeycloak&amp;yyyyy&amp;kc_idp_hint=mtdemo1-orgc
</code></pre><p class="- topic/p p">Example implementation:</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>if ($arg_redirect_uri ~ ^(https.*connmt-orge.*)){
rewrite ^(/auth/.*)/Azure-OIDC/(\w+\.?.*$) $1/Azure-OIDC/$2?kc_idp_hint=google break;
}
if ($arg_redirect_uri ~ ^(https.*connmt-orgf.*)){
rewrite ^(/auth/.*)/Azure-OIDC/(\w+\.?.*$) $1/Azure-OIDC/$2?kc_idp_hint=connmt-orgf break;
     }
</code></pre></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title3" id="configuring-keycloak-as-an-oidc-provider-for-connections"><h2 class="- topic/title title topictitle2" id="ariaid-title3">Configuring KeyCloak as an OIDC provider for Connections</h2><div class="- topic/body body"><p class="- topic/p p">Configuring Keycloak as the OIDC provider for Connections involves these steps</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Create a realm</p></li><li class="- topic/li li"><p class="- topic/p p">Within that realm create a client for the Connections web application (client)</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Configure the callback urls</p></li></ul></li><li class="- topic/li li"><p class="- topic/p p">Configure hardcoded realmName claim via client scope mapper property</p></li><li class="- topic/li li"><p class="- topic/p p">Setup Keycloak connection to LDAP</p></li><li class="- topic/li li"><p class="- topic/p p">Create additional clients for Oauth applications mobile, desktop plugins, rte and ee</p></li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Creating Connections Realm in Keycloak</strong></p><p class="- topic/p p">In the Keycloak admin portal Select realm &gt; Add realm
<img class="- topic/image image" src="keycloak_realm.jpg" alt="keycloak_realm.jpg" /><br /></p><p class="- topic/p p">Once created set the realm token properties as appropriate.  Realm &gt; Realm Settings &gt; Tokens
<img class="- topic/image image" src="keycloak_realm_settings.jpg" alt="keycloak_realm_settings.jpg" /><br /></p><p class="- topic/p p">To avoid token time-out issues set the properties Access Token Lifespan and Access Token Lifespan For Implicit Flow to 1 minute less than the WebSphere LTPA timeout. In the following example the WebSphere LTPA timeout is set to 720 minutes (12 hours)</p><br /><img class="- topic/image image" src="keycloak_realm_token.jpg" alt="keycloak_realm_token.jpg" /><br /><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Creating the Main Keycloak Client for Connections</strong></p><p class="- topic/p p">The realm contains the Keycloak OIDC clients which provide the authentication for Connections entities.  The main OIDC client is the client for the Connections web application.
The realm contains the Keycloak OIDC clients which provide the authentication for Connections entities.  The main OIDC client is the client for the Connections web application.<img class="- topic/image image" src="keycloak_clients.jpg" alt="keycloak_clients.jpg" /><br /></p><p class="- topic/p p">As part of the client, you define the valid callback urls for each organization.</p><p class="- topic/p p">Example: Add the following Valid Redirect URIs to the client for two organizations orga and orgb</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">https://<span class="undefined_element">_orga/homepage</span></p><li class="- topic/li li"><p class="- topic/p p">https://<span class="undefined_element">_orga/oidcclient/keycloak</span></p><li class="- topic/li li"><p class="- topic/p p">https://<span class="undefined_element">_orgb/homepage</span></p><li class="- topic/li li"><div class="- topic/p p">https://<span class="undefined_element">_orgb/oidcclient/keycloak</span><p class="- topic/p p">where the value keycloak is the value specified in the provider_1.identifier property used later in the WebSphere TAI. It is found in the WebSphere Admin Console  Security &gt; Global security &gt; Trust association &gt; Interceptors &gt; com.ibm.ws.security.oidc.client.RelyingParty</p></div></li><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Creating a Mapper for realmName</strong></p><div class="- topic/p p">Here you create a mapper to provide realmName as part of the ID and access tokens in the flow. You do this via Keycloak client scope which makes it available to all client flows in the same realm including web (defined above), mobile, desktop, conn-ee, conn-rte, and 3rd party clients. In the Keycloak admin portal go to <strong class="+ topic/ph hi-d/b ph b"><span class="undefined_element"> &gt; Client Scopes &gt; roles &gt; Mappers &gt; Create</span> and create a Mapper with</strong><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Name = realmName</p></li><li class="- topic/li li"><p class="- topic/p p">Mapper Type = Hardcoded claim</p></li><li class="- topic/li li"><p class="- topic/p p">Token claim name = realmName</p></li><li class="- topic/li li"><p class="- topic/p p">Claim value = &lt;your_realm_name&gt;</p></li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Note:</strong> The claim value equals connmt in our example</p><p class="- topic/p p"><img class="- topic/image image" src="realmname.jpg" alt="realmname.jpg" /><br /></p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Configuring KeyCloak to connect to an LDAP</strong></p><div class="- topic/p p">For each organization there needs to be an underlying LDAP for the organizationâ€™s users. Informing Keycloak about the users is simple. For each organization in the Keycloak admin portal go to <span class="undefined_element"> &gt; User Federation &gt; Add Provider and complete the form similar to the example below
<img class="- topic/image image" src="keycloak_ldap_7.jpg" alt="keycloak_ldap_7.jpg" /><br /></span><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Creating Additional Keycloak Clients</strong></p><div class="- topic/p p">You create additional clients for some special case Connections applications, including mobile, desktop plugins, the rich text editor (rte) and the extended experience widget (ee). Similar to creating the main Connections client, in the Keycloak admin portal go to <span class="undefined_element"> &gt; Clients &gt; Create  and repeat for each client.</span><p class="- topic/p p">See information and screenshots below for guidance.</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Mobile Client</strong>  The following creates the Keycloak client for mobile there is additional Connections configuration required to complete enabling mobile access (see later section).</p><p class="- topic/p p">Set the following fields as indicated:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Client ID:  connections_social_mobile</p></li><li class="- topic/li li"><p class="- topic/p p">Enabled:  On</p></li><li class="- topic/li li"><p class="- topic/p p">Client Protocol:  openid-connect</p></li><li class="- topic/li li"><p class="- topic/p p">Access Type: public</p></li><li class="- topic/li li"><p class="- topic/p p">Standard Flow Enabled:  On</p></li><li class="- topic/li li"><p class="- topic/p p">Implicit Flow Enabled: Off</p></li><li class="- topic/li li"><p class="- topic/p p">Direct Access Grants Enabled:  Off</p></li><li class="- topic/li li"><p class="- topic/p p">Valid Redirect URIs: com.ibm.ibmscp://com.ibm.mobile.connections/token</p></li></ul><p class="- topic/p p">Under Advanced Settings, set:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Access Token Lifespan: 60</p></li><li class="- topic/li li"><p class="- topic/p p">Proof Key for Code Exchange Code Challenge Method:  S256</p></li></ul><p class="- topic/p p"><img class="- topic/image image" src="cnx_mobile_4.jpg" alt="cnx_mobile_4.jpg" /><br />
<img class="- topic/image image" src="adv_settings.jpg" alt="adv_settings.jpg" /><br /></p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Desktop Plugins</strong></p><p class="- topic/p p">Starting in plugins release 21.07, the Mac and WIndows Desktop plugins use the same Keycloak client as Mobile (connections_social_mobile). Add the following redirect URI to the Valid Redirect URIs list of the Mobile client
Valid Redirect URIs:  <code class="+ topic/ph pr-d/codeph ph codeph">com.ibm.ibmscp://com.ibm.desktop.connections</code></p><p class="- topic/p p">If you are supporting older desktop plugins (pre-21.07), you will need add another Keycloak client with ClientID conn-dsk-plugin. Other than ClientID, use the same settings as the mobile Keycloak client. Add the following redirect URI to the Valid Redirect URIs list of the conn-dsk-plugin client:
Valid Redirect URIs:  'com.ibm.ibmscp://com.ibm.desktop.connections'</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i"><strong class="+ topic/ph hi-d/b ph b">Outlook Add-in</strong></em></p><p class="- topic/p p">If you are enabling the Connections Outlook Add-in for your users, you will need to make updates to Keycloak to enable login from the add-in.</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Update the Mobile client (connections_social_mobile) with redirect URIs</p><p class="- topic/p p">For each org supported, add the Outlook Add-in redirect URL to the â€˜Valid Redirect URIsâ€™ field. The format should be <code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;org addin URI&gt;/auth/callback</code>.  Examples:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">https://orga.my.server.com/outlook-addin/auth/callback</code></p></li><li class="- topic/li li"><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">https://orgb.my.server.com/outlook-addin/auth/callback</code></p></li></ul></li><li class="- topic/li li"><p class="- topic/p p">Update the â€˜Web Originsâ€™ field to allow CORS origins from the redirect URIs. Either explicitly specify each redirect URI or specify â€˜+â€™ to allow all the redirect URIs from the â€˜Valid Redirect URIsâ€™ field.</p></li><li class="- topic/li li"><p class="- topic/p p">Update Realm settings to make sure X-Frame-Options includes â€œframe-ancestors 'selfâ€™â€. This allows the Outlook Add-in to be loaded into the iFrame.</p></li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">RTE</strong></p><p class="- topic/p p">Create a client named conn-rte and add Valid Redirect URI for each organization. For example</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>     https:// &lt;server_orga&gt;/connections/rte/connect
     hhttps:// &lt;server_orgb&gt;/connections/rte/connect</code></pre><br /><img class="- topic/image image" src="rte.jpg" alt="rte.jpg" /><br /><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">EE</strong></p><p class="- topic/p p">Create a client named conn-ee-kc and add Valid Redirect URI for each organization. For example</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>     https:// &lt;server_orga&gt;/connections/opensocial/gadgets/oauth2callback
     https:// &lt;server_orgb&gt;/connections/opensocial/gadgets/oauth2callback</code></pre><br /><img class="- topic/image image" src="ee.jpg" alt="ee.jpg" /><br /><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">SSO between Connections, SameTime and Domino can be done via Keycloak clients</strong></p><p class="- topic/p p">As before create a client for all the applications in the same realm.
<strong class="+ topic/ph hi-d/b ph b">SameTime Ckient</strong> Use IdP initiated Post binding with signed assertion:</p><p class="- topic/p p"><img class="- topic/image image" src="keycloak_5.jpg" alt="keycloak_5.jpg" /><br />
<img class="- topic/image image" src="keycloak_6.jpg" alt="keycloak_6.jpg" /><br /></p></div></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title4" id="configuring-websphere-as-oidc-relying-party"><h3 class="- topic/title title topictitle3" id="ariaid-title4">Configuring WebSphere as OIDC Relying Party</h3><div class="- topic/body body"><p class="- topic/p p">Keycloak as an OIDC IDP provides authentication for the Connections applications installed in WebSphere.  Configuring WebSphere as the OIDC Relying Party involves a few basic steps.</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Install WebSphereOIDCRP.ear (Note: In multi-cluster environment it is installed to each cluster)</p></li><li class="- topic/li li"><p class="- topic/p p">Configure the WebSphere OIDC Trust Association Interceptor (TAI) (Note: The special steps in multi-cluster environment)</p></li><li class="- topic/li li"><p class="- topic/p p">Configure dynacache for TAI JNDI</p></li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Install WebSphereOIDCRP.ear</strong>
In a single cluster environment follow the instruction in step #13 Install the OpenID Connect applicationâ€œ of the WebSphere Documentation.  Refer to <a class="- topic/xref xref" href="https://www.ibm.com/docs/en/was-nd/8.5.5?topic=users-configuring-openid-connect-relying-party" target="_blank" rel="external noopener">Configuring an OpenID Connect Relying Party</a>
See below if installing in multi-cluster environment, you will install the OIDC application on each cluster.</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code> Update Custom Properties: WebSphere Admin Console go to  Security &gt; Global security &gt; Custom properties and remove com.ibm.websphere.security.InvokeTAIbeforeSSO if it is set
 Disable Oauth TAI:  Since we are using Keycloak clients disable the com.ibm.ws.security.oauth20.tai.OAuthTAI  filter.  Go to Security &gt; Global security &gt; Trust association &gt; Interceptors &gt; com.ibm.ws.security.oauth20.tai.OAuthTAI   and set the provider_1.filter name to some dummy value so it won't intercept any requests</code></pre><p class="- topic/p p"><img class="- topic/image image" src="websphereoidcrp_ear.jpg" alt="websphereoidcrp_ear.jpg" /><br />
</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Configure the WebSphere OIDC Trust Association Interceptor (TAI) â€“ Single Cluster</strong>
In the WebSphere Admin Console go to <code class="+ topic/ph pr-d/codeph ph codeph">Security &gt; Global security &gt; Trust association &gt; Interceptors &gt; com.ibm.ws.security.oidc.client.RelyingParty</code> and configure the custom TAI properties as follows</p><p class="- topic/p p"><img class="- topic/image image" src="interceptor_tai.jpg" alt="interceptor_tai.jpg" /><br />
</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title5" id="tai-custom-property"><h3 class="- topic/title title topictitle3" id="ariaid-title5">TAI custom property</h3><div class="- topic/body body"><ol class="- topic/ol ol"><li class="- topic/li li"><p class="- topic/p p">Set custom <code class="+ topic/ph pr-d/codeph ph codeph">provider_1.excludedpathFilter</code>:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">*/survey/.*,/surveys/.*,/ibm/console,/ibm/console/.*,/profiles/dsx/.*,/communities/dsx/.*,/dm,/dm/atom/seedlist,/dm/atom/communities/feed,/activities/service/atom2/forms/communityEvent,/communities/recomm/handleEvent,/communities/calendar/handleEvent,/profiles/seedlist/myserver</code>*`</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Note:</strong> The services path may not be the same per deployment.</p></li></ul></li><li class="- topic/li li"><p class="- topic/p p">To support JWT as access token for oauth set <code class="+ topic/ph pr-d/codeph ph codeph">provider_1.verifyIssuerInIat=true</code></p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">connmt</strong> is the client id that was configured for the KeyCloak main Connections web client from before.</p></li><li class="- topic/li li"><p class="- topic/p p">connections_social_mobile is the client id for Connections Mobile</p></li><li class="- topic/li li"><p class="- topic/p p">To support <code class="+ topic/ph pr-d/codeph ph codeph">Mobile/oauth2</code> client use of the LTPA session cookie set <code class="+ topic/ph pr-d/codeph ph codeph">provider_1.setLtpaCookie=true</code></p></li></ol><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Configure the WebSphere OIDC Trust Association Interceptor (TAI) â€“ Multi-Cluster</strong></p><p class="- topic/p p">A Connections medium or large deployment consists of multiple clusters (JVMs), each containing a number of applications. There is a limitation in the WebSphere OIDC RP, where the RP stores the state in local JVM. This means the Keycloak callback needs to return to the same JVM where application login started. We have the following request into <a class="- topic/xref xref" href="https://www.ibm.com/developerworks/rfe/execute?use_case=viewRfe&amp;CR_ID=104320" target="_blank" rel="external noopener">IBM to fix this issue</a>.  Please help by voting for it.</p><p class="- topic/p p">To resolve this issue the workaround is to install the <code class="+ topic/ph pr-d/codeph ph codeph">WebSphereOIDCRP.ear</code> in each cluster and configure WebSphere TAI properties for each mapping to the corresponding servlet context root. Our examples below are based on a Connections medium deployment 4 cluster configuration.</p><ol class="- topic/ol ol"><li class="- topic/li li"><p class="- topic/p p">Example: Deploying  WebSphereOIDCRP.ear to each JVM/cluster with unique context root.</p><br /><img class="- topic/image image" src="was_oidc_multi_cluster_9.jpg" alt="was_oidc_multi_cluster_9.jpg" /><br /></li><li class="- topic/li li"><p class="- topic/p p">Configure WebSphere TAI properties multi-cluster
Configure <code class="+ topic/ph pr-d/codeph ph codeph">.ibm.ws.security.oidc.client.RelyingParty</code> TAI with a provider for each cluster and set the custom properties</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">interceptedPathFilter</code> to the corresponding cluster value</p></li><li class="- topic/li li"><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">callbackServletContextPath</code> to a unique value (to be updated in Keycloak main CNX web client)</p></li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Note:</strong> All properties values are the same for each provider except the <code class="+ topic/ph pr-d/codeph ph codeph">interceptedPathFilter</code> and <code class="+ topic/ph pr-d/codeph ph codeph">callbackServletContextPath</code></p><p class="- topic/p p">Example: For a 4 cluster medium Connections deployment setting interceptPathFilter:
(Note: in your environment the app may be deployed on different clusters, therefore please adjust accordingly)</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">provider_1.interceptedPathFilter:
<code class="+ topic/ph pr-d/codeph ph codeph">/activities/.,/blogs/.,/dogear/.,/files/.,/forums/.,/metrics/.,/metricssc/,/mobile/.,/connections/filesync/.,/connections/filediff/.,/mobileAdmin/.,/storageproxy/.,/wikis/.*</code></p></li><li class="- topic/li li"><p class="- topic/p p">provider_2.interceptedPathFilter:
<code class="+ topic/ph pr-d/codeph ph codeph">/connections/bookmarklet/.,/connections/oauth/.,/connections/resources/.,/connections/config/.,/communities/.,/connections/proxy/.,/help/.,/xcc/.,/selfservice/.,/news/.,/profiles/.,/search/.,/socialsidebar/.,/touchpoint/.,/connections/thumbnail/.,/connections/opengraph/.,/oauth2/.,/connections/opensocial/.</code></p></li><li class="- topic/li li"><p class="- topic/p p">provider_3..interceptedPathFilter:
<code class="+ topic/ph pr-d/codeph ph codeph">/homepage/.,/moderation/.,/connections/rte/.,/connections/webeditors/.</code></p></li><li class="- topic/li li"><p class="- topic/p p">provider_4.interceptedPathFilter:
<code class="+ topic/ph pr-d/codeph ph codeph">/push/.*</code>
The screenshot below shows the TAI custom properties (provider_1) for the oidcclient_apps cluster , repeat creating the same properties for provider_2, provider_3, provider_4 with appropriate values for interceptedPathFilter and callbackServletContextPath.</p></li></ul><br /><img class="- topic/image image" src="was_oidc_multi_cluster_10.jpg" alt="was_oidc_multi_cluster_10.jpg" /><br /></li><li class="- topic/li li"><p class="- topic/p p">Enable custom dynacache by following these steps:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">In oidc RP TAI properties add the custom property jndiCacheName= services/cache/OpenidRpCache :
<img class="- topic/image image" src="was_oidc_multi_cluster_11.jpg" alt="was_oidc_multi_cluster_11.jpg" /><br /></p></li><li class="- topic/li li"><p class="- topic/p p">Create a new object cache instance with the <strong class="+ topic/ph hi-d/b ph b">JNDI name matching</strong> the one used in the TAI property above and set
-- replication Domain: ConnectionsReplicationDomain
-- replication Type: both push and pull</p><br /><img class="- topic/image image" src="was_oidc_multi_cluster_12.jpg" alt="was_oidc_multi_cluster_12.jpg" /><br /></li><li class="- topic/li li"><p class="- topic/p p">In each cluster (Apps, Infra, Util, Push) make sure that cache replication is enabled and uses the ConnectionsReplicationDomain. To check go to the Admin Console  Servers &gt; server types &gt; WebSphere Application Servers &gt; &lt;server_name&gt; &gt; Container Services &gt; Dynamic cache service</p><br /><img class="- topic/image image" src="was_oidc_multi_cluster_13.jpg" alt="was_oidc_multi_cluster_13.jpg" /><br /></li></ul></li><li class="- topic/li li"><p class="- topic/p p">In the multi-cluster case since we defined new servlet context roots in step #2, the Keycloak web/main client Valid Redirect URIs need to be updated.Example: Based on our earlier Keycloak client definition update the valid callbacks as follows
Go to Keycloak Admin Portal &gt; realm &gt; client &gt; Valid Redirect URIs
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orga/homepage</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orga/oidcclient_apps/keycloak</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orga/oidcclient_util/keycloak</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orga/oidcclient_infra/keycloak</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orga/oidcclient_push/keycloak</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orgb/homepage</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orgb/oidcclient_apps/keycloak</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orgb/oidcclient_util/keycloak</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orgb/oidcclient_infra/keycloak</code>
<code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;connections host&gt;_orgb/oidcclient_push/keycloak</code></p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Note:</strong> oidcclient_apps, oidcclient_util, oidcclient_infra, oidcclient_push are the values of the provider_1-4.callbackServletContex custom properties in our example.</p></li></ol></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title6" id="connections-configuration"><h3 class="- topic/title title topictitle3" id="ariaid-title6">Connections Configuration</h3><div class="- topic/body body"><p class="- topic/p p">Perform the following updates to Connections configuration files to complete enabling the Keycloak clients as the Connections OIDC provider.
<strong class="+ topic/ph hi-d/b ph b">Updating the  Mobile Configuration Properties</strong>
Update the mobile-config.xml with the property values below by following the instructions in the <a class="- topic/xref xref" href="https://help.hcltechsw.com/connectionsmobile/admin/overview/t_mobile_change_config_properties.html" target="_blank" rel="external noopener">Changing Mobile configuration property values</a> topic.</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Set the AuthType to OAuth:
<code class="+ topic/ph pr-d/codeph ph codeph">&lt;AuthType&gt;OAuth&lt;/AuthType&gt;</code></p></li><li class="- topic/li li"><p class="- topic/p p">Set these values to the authorization and token endpoint URLs for your KeyCloak realm.-- <code class="+ topic/ph pr-d/codeph ph codeph">&lt;OAuthAuthorizationURL&gt;https://&lt;server&gt;/auth/realms/&lt;keycloak_realm&gt;/protocol/openid-connect/auth&lt;/OAuthAuthorizationURL&gt;</code>
-- <code class="+ topic/ph pr-d/codeph ph codeph">&lt;OAuthTokenURL&gt;https://&lt;server&gt;/auth/realms/&lt;keycloak_realm&gt;/protocol/openid-connect/token&lt;/OAuthTokenURL&gt;</code></p></li></ul><p class="- topic/p p">Verify the change is correct by selecting the URL: <code class="+ topic/ph pr-d/codeph ph codeph">https://&lt;server&gt;/mobile/homepage/SecurityConfiguration?debug=true</code> and validate that the values are reflected in the JSON that is returned.</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Updating the LotusConnections-config.xml oidc_op service</strong>
Update the LotusConnections-config.xml for the <em class="+ topic/ph hi-d/i ph i"><strong class="+ topic/ph hi-d/b ph b">serviceName="oidc_op"</strong></em>  with the property values below by following the instructions found in the <a class="- topic/xref xref" href="https://help.hcltechsw.com/connections/v7/admin/admin/t_admin_common_checkout_config_file.html" target="_blank" rel="external noopener">Editing Configuration Files</a> topic.
<strong class="+ topic/ph hi-d/b ph b">Note:</strong> You will need to edit the LotusConnections-config.xml  file directly.</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;sloc:serviceReference bootstrapHost="admin_replace" bootstrapPort="admin_replace" clusterName="" enabled="true" serviceName="oidc_op" ssl_enabled="true"&gt;
  	&lt;sloc:href&gt;
  		&lt;sloc:hrefPathPrefix&gt;/auth/realms/&lt;keycloak_realm&gt;/.well-known/openid-configuration&lt;/sloc:hrefPathPrefix&gt;
  		&lt;sloc:static href="http://&lt;keycloak_server&gt;" ssl_href="https://&lt;keycloak_server&gt;"/&gt;
  		&lt;sloc:interService href="https://&lt;keycloak_server&gt;"/&gt;
  	&lt;/sloc:href&gt;
  &lt;/sloc:serviceReference&gt;</code></pre></div></article></div></li></li></li></ul></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
        <meta charset="UTF-8" />
    
        <hr />
        <div class="ratingForm">
            <div class="form-group">
                <legend id="ratingStarLabel">Rate this topic</legend>
                <div class="rate">
                    <input type="radio" id="star5" name="rate" value="5" />
                    <label for="star5" title="text">5 stars</label>
                    <input type="radio" id="star4" name="rate" value="4" />
                    <label for="star4" title="text">4 stars</label>
                    <input type="radio" id="star3" name="rate" value="3" />
                    <label for="star3" title="text">3 stars</label>
                    <input type="radio" id="star2" name="rate" value="2" />
                    <label for="star2" title="text">2 stars</label>
                    <input type="radio" id="star1" name="rate" value="1" />
                    <label for="star1" title="text">1 star</label>
                </div>
            </div>
			<br />
			<br />
            <div class="form-group">
                <legend id="ratingCommentLabel">Comment on this topic.</legend>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="rateCheck" />
                    <label class="form-check-label" for="rateCheck" id="rateCheckLabel">
                        By clicking this box, you acknowledge that you are NOT a U.S. Federal Government 
                        employee or agency, nor are you  submitting information with respect to or on behalf 
                        of one. HCL provides software and services to U.S. Federal Government customers through 
                        its partners immixGroup, Inc. Contact this team at <a href="https://hcltechsw.com/resources/us-government-contact">https://hcltechsw.com/resources/us-government-contact</a>.  Do not include any personal data in this Comment box.
                    </label>
                    <label class="form-check-label" for="rateCheck" id="rateCheckNoteLabel">
                        Note: To report a problem or question about the product software, do not use this form. 
                        Instead, go to the <a href="https://support.hcltech.com/csm">HCL Software Support</a> site.
                    </label>
                </div>
                <textarea class="form-control form-control-lg" id="rate-comment" rows="3" disabled="true"></textarea>
            </div>
            <input type="button" id="rate-submit" class="btn btn-primary btn-lg" value="Submit" disabled="true"> </input>
        </div>
    
                        
                    </div>
                    
                        
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div class=" wh_topic_toc "><div class="wh_topic_label">On this page</div><ul><li class="topic-item"><a href="#brokering-authentication-via-hint" data-tocid="brokering-authentication-via-hint">Brokering Authentication via Hint</a></li><li class="topic-item"><a href="#configuring-keycloak-as-an-oidc-provider-for-connections" data-tocid="configuring-keycloak-as-an-oidc-provider-for-connections">Configuring KeyCloak as an OIDC provider for Connections</a><ul><li class="topic-item"><a href="#configuring-websphere-as-oidc-relying-party" data-tocid="configuring-websphere-as-oidc-relying-party">Configuring WebSphere as OIDC Relying Party</a></li><li class="topic-item"><a href="#tai-custom-property" data-tocid="tai-custom-property">TAI custom property</a></li><li class="topic-item"><a href="#connections-configuration" data-tocid="connections-configuration">Connections Configuration</a></li></ul></li></ul></div>
                        </nav>
                        
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer" whc:version="23.1">
  <div class=" footer-container mx-auto ">
    <!-- 
Release Version: v.Q32021  
--><div class="footer">
	<div class="footer-left">
		<ul class="nav share-content">
			<li class="nav-item">
                <a id="footerMailLink" class="nav-link footer-mail" style="color:white;" target="_blank" href="#" onclick="gtag('event', 'EmailShare', {'event_category': 'share', 'event_label':'labelemail'});" title="Share by Email">Share: Email</a>
			</li>
            <li>
                <a id="footerTwitterLink" class="nav-link footer-twitter" href="https://twitter.com/intent/tweet" style="color:white;" onclick="gtag('event', 'TwitterShare', {'event_category': 'share', 'event_label':'labeltweet'});" title="Share by Twitter">Twitter</a>
            </li>
		</ul>
	</div>
    <div class="footer-right">
        <ul class="nav legal-content">
            <li class="nav-item">
                <a id="disclaimerLabel" class="nav-link footer-launch" style="color:white;" target="_blank" href="https://www.hcltechsw.com/wps/portal/legal/disclaimer">Disclaimer</a>
            </li>
            <li class="nav-item">
                <a id="privacyLabel" class="nav-link footer-launch" style="color:white;" target="_blank" href="https://www.hcltechsw.com/wps/portal/legal/privacy">Privacy</a>
            </li>
            <li class="nav-item">
                <a id="termsLabel" class="nav-link footer-launch" style="color:white;" target="_blank" href="https://www.hcltechsw.com/wps/portal/legal/terms-use">Terms of use</a>
            </li>
            <li class="nav-item">
                <a id="cookieLabel" class="nav-link footer-launch ot-sdk-show-settings" style="color:white;" href="#">Cookie Preferences</a>
            </li>
        </ul>
    </div>
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" alt="" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>